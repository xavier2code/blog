<!doctype html><html class="dark light" lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://xavier2code.site name=base><title>
            
                Formatted Output in Rust
            
        </title><meta content="Formatted Output in Rust" property=og:title><link href=https://xavier2code.site/favicon.png rel=icon type=image/png><link href=https://xavier2code.site/fonts.css rel=stylesheet><script async data-goatcounter=https://xavier2code.goatcounter.com/count src=https://xavier2code.site/js/count.js></script><noscript><img src="https://xavier2code.goatcounter.com//count?p=/posts/rust4/&t=Formatted Output in Rust"></noscript><script defer src=https://xavier2code.site/js/codeblock.js></script><script src=https://xavier2code.site/js/note.js></script><script>MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link href=https://xavier2code.site/atom.xml rel=alternate title=xavier2code type=application/atom+xml><link href=https://xavier2code.site/theme/light.css rel=stylesheet><link href=https://xavier2code.site/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://xavier2code.site/js/themetoggle.js></script><script>setTheme(getSavedTheme());</script><link href=https://xavier2code.site/main.css media=screen rel=stylesheet><script src="https://xavier2code.site/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body><div class=left-content></div><div class=content><nav><div class=left-nav><a href=https://xavier2code.site>xavier2code</a><div class=socials><a class=social href=https://mail.google.com/ rel=me> <img alt=email src=https://xavier2code.site/icons/social/email.svg> </a><a class=social href=https://github.com/xavier2code/ rel=me> <img alt=github src=https://xavier2code.site/icons/social/github.svg> </a><a class=social href=https://discord.com/ rel=me> <img alt=discord src=https://xavier2code.site/icons/social/discord.svg> </a><a class=social href=https://www.reddit.com/ rel=me> <img alt=reddit src=https://xavier2code.site/icons/social/reddit.svg> </a><a class=social href=https://x.com/ rel=me> <img alt=x-twitter src=https://xavier2code.site/icons/social/x-twitter.svg> </a></div></div><div class=right-nav><a href=https://xavier2code.site/posts style=margin-right:.5em>/posts</a><a href=https://xavier2code.site/projects style=margin-right:.5em>/projects</a><a href=https://xavier2code.site/archive style=margin-right:.5em>/archive</a><a href=https://xavier2code.site/about style=margin-right:.5em>/about</a><a href=https://xavier2code.site/tags style=margin-right:.5em>/tags</a><button title="$SHORTCUT to open search" class=search-button id=search-button><img alt=Search class=search-icon src=https://xavier2code.site/icons/search.svg></button><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><div id=modal-content><h1 class=page-header id=modalTitle>Search</h1><div id=searchBar><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search... role=combobox spellcheck=false><button title="Clear search" class=clear-button id=clear-search><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></button></div><div id=results-container><div id=results-info><span id=zero_results style=display:none>No results</span><span id=one_result style=display:none>1 result</span><span id=many_results style=display:none>$NUMBER results</span></div><div id=results role=listbox></div></div></div></div><a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://xavier2code.site/icons/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://xavier2code.site/icons/moon.svg> </a><script>updateItemToggleTheme()</script></div></nav><div data-selector="main article p" class=visible-element-observer-root><main><article><div class=title><div class=page-header>Formatted Output in Rust</div><div class=meta>Posted on <time>2025-02-08</time><span class=tags-label> :: </span><span class=tags> <a class=post-tag href=https://xavier2code.site/tags/documentation/>documentation</a> <a class=post-tag href=https://xavier2code.site/tags/rust/>rust</a> </span></div></div><section class=body><p>In Rust, <code>{}</code> and <code>{:?}</code> are used in the <code>format!</code> macro and other formatting contexts (like println!) to specify how values should be formatted. They are placeholders that get replaced by the actual values you provide. Here’s a detailed explanation of the differences between them:<h2 id=display-trait><a aria-label="Anchor link for: display-trait" class=zola-anchor href=#display-trait><code>{}</code> (Display Trait)</a></h2><ul><li>Purpose: The <code>{}</code> placeholder is used for types that implement the <code>std::fmt::Display</code> trait. This trait is intended for user-facing output and is designed to produce a human-readable representation of a value.<li>Usage: It is typically used for types where you want to provide a simple, readable string representation. Many primitive types (like <code>i32</code>, <code>f64</code>, <code>String</code>, etc.) implement <code>Display</code> by default.<li>Example:</ul><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>let</span><span> number </span><span style=color:#ed9366>= </span><span style=color:#ff8f40>42</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>let</span><span> text </span><span style=color:#ed9366>= </span><span style=color:#86b300>"Hello, world!"</span><span style=color:#61676ccc>;
</span><span style=color:#f07171>println!</span><span>(</span><span style=color:#86b300>"Number: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>, Text: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> number</span><span style=color:#61676ccc>,</span><span> text)</span><span style=color:#61676ccc>;
</span></code></pre><p><strong>Output:</strong> <code>Number: 42, Text: Hello, world!</code><h2 id=debug-trait><a aria-label="Anchor link for: debug-trait" class=zola-anchor href=#debug-trait><code>{:?}</code> (Debug Trait)</a></h2><ul><li>Purpose: The <code>{:?}</code> placeholder is used for types that implement the <code>std::fmt::Debug</code> trait. This trait is intended for debugging purposes and is designed to produce a representation that is useful for developers. It often includes more detailed information about the structure of the value.<li>Usage: It is typically used for complex types (like structs, enums, vectors, etc.) where you want to inspect the internal state of the value. The output is often more verbose and includes information about the type and structure of the value.<li>Example:</ul><pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#fa6e32>let</span><span> vec </span><span style=color:#ed9366>= </span><span style=color:#f07171>vec!</span><span>[</span><span style=color:#ff8f40>1</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>2</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>3</span><span>]</span><span style=color:#61676ccc>;
</span><span style=color:#fa6e32>let</span><span> point </span><span style=color:#ed9366>= </span><span>(</span><span style=color:#ff8f40>10</span><span style=color:#61676ccc>, </span><span style=color:#ff8f40>20</span><span>)</span><span style=color:#61676ccc>;
</span><span style=color:#f07171>println!</span><span>(</span><span style=color:#86b300>"Vector: </span><span style=color:#ff8f40>{:?}</span><span style=color:#86b300>, Point: </span><span style=color:#ff8f40>{:?}</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> vec</span><span style=color:#61676ccc>,</span><span> point)</span><span style=color:#61676ccc>;
</span></code></pre><p><strong>Output:</strong> <code>Vector: [1, 2, 3], Point: (10, 20)</code><h2 id=key-differences><a aria-label="Anchor link for: key-differences" class=zola-anchor href=#key-differences>Key Differences</a></h2><ol><li>Trait Implementation:</ol><ul><li><code>{}</code> requires the <code>Display</code> trait.<li><code>{:?}</code> requires the <code>Debug</code> trait.</ul><ol start=2><li>Output Style:</ol><ul><li><code>{}</code> produces a human-readable, user-friendly string.<li><code>{:?}</code> produces a more detailed, developer-friendly string.</ul><ol start=3><li>Default Implementations:</ol><ul><li>Many primitive types implement <code>Display</code> by default.<li>The <code>Debug</code> trait is automatically derived for structs and enums using <code>#[derive(Debug)]</code>.</ul><h2 id=example-with-structs><a aria-label="Anchor link for: example-with-structs" class=zola-anchor href=#example-with-structs>Example with Structs</a></h2><p>Here’s an example with a custom struct to illustrate the difference:<pre class=language-rust data-lang=rust style=color:#61676c;background-color:#fafafa><code class=language-rust data-lang=rust><span style=color:#61676ccc>#</span><span>[</span><span style=color:#f29718>derive</span><span>(Debug)] </span><span style=color:#abb0b6;font-style:italic>// Automatically derive Debug implementation
</span><span style=color:#fa6e32>struct </span><span style=color:#399ee6>Person </span><span>{
</span><span>    name</span><span style=color:#61676ccc>:</span><span> String,
</span><span>    age</span><span style=color:#61676ccc>: </span><span style=color:#fa6e32>u32</span><span>,
</span><span>}
</span><span>
</span><span style=color:#fa6e32>impl </span><span>std</span><span style=color:#ed9366>::</span><span>fmt</span><span style=color:#ed9366>::</span><span>Display </span><span style=color:#fa6e32>for </span><span style=color:#399ee6>Person </span><span>{
</span><span>    </span><span style=color:#fa6e32>fn </span><span style=color:#f29718>fmt</span><span>(</span><span style=color:#ed9366>&</span><span style=color:#ff8f40>self</span><span>, </span><span style=color:#ff8f40>f</span><span style=color:#61676ccc>: </span><span style=color:#ed9366>&</span><span style=color:#fa6e32>mut </span><span>std</span><span style=color:#ed9366>::</span><span>fmt</span><span style=color:#ed9366>::</span><span>Formatter) </span><span style=color:#61676ccc>-> </span><span>std</span><span style=color:#ed9366>::</span><span>fmt</span><span style=color:#ed9366>::</span><span>Result {
</span><span>        </span><span style=color:#f07171>write!</span><span>(f, </span><span style=color:#86b300>"</span><span style=color:#ff8f40>{}</span><span style=color:#86b300> (age: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>)"</span><span style=color:#61676ccc>, </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>name</span><span style=color:#61676ccc>, </span><span style=color:#55b4d4;font-style:italic>self</span><span style=color:#ed9366>.</span><span>age)
</span><span>    }
</span><span>}
</span><span>
</span><span style=color:#fa6e32>fn </span><span style=color:#f29718>main</span><span>() {
</span><span>    </span><span style=color:#fa6e32>let</span><span> person </span><span style=color:#ed9366>=</span><span> Person {
</span><span>        name</span><span style=color:#61676ccc>: </span><span style=color:#55b4d4;font-style:italic>String</span><span style=color:#ed9366>::</span><span>from(</span><span style=color:#86b300>"Alice"</span><span>)</span><span style=color:#61676ccc>,
</span><span>        age</span><span style=color:#61676ccc>: </span><span style=color:#ff8f40>30</span><span style=color:#61676ccc>,
</span><span>    }</span><span style=color:#61676ccc>;
</span><span>
</span><span>    </span><span style=color:#f07171>println!</span><span>(</span><span style=color:#86b300>"Display: </span><span style=color:#ff8f40>{}</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> person)</span><span style=color:#61676ccc>; </span><span style=color:#abb0b6;font-style:italic>// Uses Display trait
</span><span>    </span><span style=color:#f07171>println!</span><span>(</span><span style=color:#86b300>"Debug: </span><span style=color:#ff8f40>{:?}</span><span style=color:#86b300>"</span><span style=color:#61676ccc>,</span><span> person)</span><span style=color:#61676ccc>; </span><span style=color:#abb0b6;font-style:italic>// Uses Debug trait
</span><span>}
</span></code></pre><p><strong>Output:</strong><pre class=language-sh data-lang=sh style=color:#61676c;background-color:#fafafa><code class=language-sh data-lang=sh><span style=color:#f29718>Display:</span><span> Alice (age: 30)
</span><span style=color:#f29718>Debug:</span><span> Person { name: </span><span style=color:#86b300>"Alice"</span><span style=color:#61676ccc>,</span><span> age: 30 }
</span><span>
</span></code></pre><p><strong>In this example:</strong><ul><li>The <code>Display</code> implementation provides a concise, user-friendly string.<li>The <code>Debug</code> implementation, derived automatically, provides a detailed, developer-friendly string.</ul><h2 id=summary><a aria-label="Anchor link for: summary" class=zola-anchor href=#summary>Summary</a></h2><ul><li>Use <code>{}</code> when you want a simple, human-readable representation.<li>Use <code>{:?}</code> when you need a detailed, developer-friendly representation for debugging purposes.</ul></section></article></main></div><div class=giscus></div><script async crossorigin issue-term=pathname label=Comment repo=xavier2code/blog src=https://utteranc.es/client.js theme=preferred-color-scheme></script></div><div class=right-content></div>